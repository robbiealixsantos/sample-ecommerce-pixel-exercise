{% extends "layout.html" %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Products</h1>
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
  {% for p in products %}
  <div class="bg-white rounded-2xl shadow p-4 flex flex-col">
    <a href="{{ url_for('product_detail', product_id=p.id) }}">
      <img src="{{ p.image_url }}" alt="{{ p.name }}" class="rounded-xl w-full h-48 object-cover mb-3">
    </a>
    <h3 class="font-semibold text-lg">{{ p.name }}</h3>
    <p class="text-sm text-gray-600 mb-3">{{ p.description }}</p>
    <div class="mt-auto flex items-center justify-between">
      <span class="font-semibold">{{ p.price_display() }}</span>
      <form action="{{ url_for('add_to_cart') }}" method="post" class="flex items-center space-x-2">
        <input type="hidden" name="product_id" value="{{ p.id }}">
        <input type="number" name="quantity" min="1" value="1" class="w-16 border rounded-lg px-2 py-1">
        <button class="px-3 py-2 rounded-lg bg-gray-900 text-white">Add</button>
      </form>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
